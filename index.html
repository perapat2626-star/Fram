<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Smart Farm Control</title>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>
    <style>
        body { font-family: sans-serif; background: #0f172a; color: white; text-align: center; padding: 20px; }
        .card { background: #1e293b; padding: 20px; border-radius: 15px; margin: 10px auto; max-width: 350px; border: 1px solid #334155; }
        .btn { width: 45%; padding: 15px; margin: 5px; border-radius: 10px; border: none; font-weight: bold; cursor: pointer; color: white; font-size: 18px; }
        .on { background: #22c55e; } 
        .off { background: #ef4444; }
        #moist { font-size: 50px; color: #22c55e; font-weight: bold; }
    </style>
</head>
<body>
    <h2>ðŸŒ¿ Smart Farm Remote</h2>
    
    <div class="card">
        <p>ðŸ’§ à¸„à¸§à¸²à¸¡à¸Šà¸·à¹‰à¸™à¸”à¸´à¸™à¸›à¸±à¸ˆà¸ˆà¸¸à¸šà¸±à¸™</p>
        <div id="moist">--</div>
        <p>%</p>
    </div>

    <div class="card">
        <p>ðŸ’¡ à¸£à¸°à¸šà¸šà¹„à¸Ÿà¸ªà¹ˆà¸­à¸‡à¸ªà¸§à¹ˆà¸²à¸‡</p>
        <button onclick="set('light','ON')" class="btn on">à¹€à¸›à¸´à¸”</button>
        <button onclick="set('light','OFF')" class="btn off">à¸›à¸´à¸”</button>
    </div>

    <div class="card">
        <p>ðŸ’§ à¸£à¸°à¸šà¸šà¸›à¸±à¹Šà¸¡à¸™à¹‰à¸³</p>
        <button onclick="set('pump','ON')" class="btn on">à¹€à¸›à¸´à¸”</button>
        <button onclick="set('pump','OFF')" class="btn off">à¸›à¸´à¸”</button>
    </div>

    <script>
        const firebaseConfig = {
            databaseURL: "https://fram-1fd7e-default-rtdb.firebaseio.com"
        };
        firebase.initializeApp(firebaseConfig);
        const db = firebase.database();

        // à¹à¸ªà¸”à¸‡à¸„à¹ˆà¸²à¸„à¸§à¸²à¸¡à¸Šà¸·à¹‰à¸™à¹à¸šà¸š Real-time
        db.ref("status/moisture").on("value", (snapshot) => {
            document.getElementById("moist").innerText = snapshot.val() || "0";
        });

        // à¸ªà¹ˆà¸‡à¸„à¸³à¸ªà¸±à¹ˆà¸‡à¸„à¸§à¸šà¸„à¸¸à¸¡
        function set(target, action) {
            db.ref("control/" + target).set(action);
        }
    </script>
</body>
</html>
